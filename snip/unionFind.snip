snippet     UnionFind
options     head 
    struct UnionFind { // {{{
        vector<int> u;
        explicit UnionFind(int n): u(n+5, -1) {}
        int  size(int x)        { return -u[root(x)]; }
        int  root(int x)        { return (u[x] < 0)? x : (u[x] = root(u[x])); }
        bool same(int x, int y) { return (root(x) == root(y)); }
        bool unite(int x, int y){ return (x=root(x)) == (y=root(y))? false : (u[x]+=u[y], u[y]=x, true); }
    }; // }}}


